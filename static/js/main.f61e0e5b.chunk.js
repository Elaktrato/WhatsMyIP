(this.webpackJsonpwhatsmyip=this.webpackJsonpwhatsmyip||[]).push([[0],{33:function(e,t,n){},35:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),s=n(18),a=n.n(s),o=(n(33),n(11)),i=n.n(o),l=n(16),u=n(7),j=(n(35),n(94)),d=n(96),h=n(95),b=n(22),p=n(23),O=n(28),g=n(27),f=n(1);var x=function(e){return console.log("props.ip"),console.log(e.ip),Object(f.jsxs)("div",{children:[" Your IP is ",e.ip," "]})};var v=function(e){return console.log("props.languages"),console.log(e.languages),Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("strong",{children:"Language: "}),Object(f.jsx)("span",{children:e.languages.map((function(e){return e.name})).join(", ")})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("strong",{children:"Capital city:"})," ",e.capitalCity]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("strong",{children:"Calling Code:"})," ",e.callingCode]})]})};var m=function(e){return Object(f.jsxs)("div",{className:"CountryInfo",children:[Object(f.jsx)("h3",{className:"CountryInfoCol",children:"Some interesting info about your country:"}),Object(f.jsxs)("div",{className:"CountryInfoCol",children:[Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"Native name:"})," ",e.info.nativeName]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"Currency:"})," ",e.info.currencies[0].name," (",e.info.currencies[0].symbol,")"]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"Population:"})," ",e.info.population.toLocaleString("en-GB")," people"]})]}),Object(f.jsxs)("div",{className:"CountryInfoCol",children:[Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"Region:"})," ",e.info.region]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"Subregion:"})," ",e.info.subregion]}),e.info.regionalBlocs[0]&&Object(f.jsxs)("p",{children:[Object(f.jsx)("strong",{children:"Regional bloc:"})," ",e.info.regionalBlocs[0].name]})]})]})},y=n(20);var C=function(){var e,t=y.DateTime.local().zoneName,n=Object(r.useState)(""),c=Object(u.a)(n,2),s=c[0],a=c[1],o=Object(r.useState)(!0),i=Object(u.a)(o,2),l=i[0],j=i[1],d=Object(r.useState)(!1),h=Object(u.a)(d,2),b=h[0];return h[1],Object(r.useEffect)((function(){var e=setInterval((function(){a((function(){return y.DateTime.now().toFormat("tttt")})),j(!1)}),1e3);return function(){return clearInterval(e)}}),[s]),e=l?b?"Something has gone wrong when trying to get your time! Please try reloading the page":"Loading your time...":"Your time is ".concat(s," ").concat(t),Object(f.jsxs)("div",{className:"currentTime",children:[" ",e," "]})};var w=function(e){return Object(f.jsx)("div",{children:Object(f.jsx)("img",{id:"countryFlag",src:e.flag,alt:"country flag"})})},k=function(e){Object(O.a)(n,e);var t=Object(g.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).state={error:!1,isLoading:!0},r}return Object(p.a)(n,[{key:"getCountry",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://restcountries.eu/rest/v2/alpha/",t=this.props.locationData.location.country,e.prev=2,e.next=5,fetch("https://restcountries.eu/rest/v2/alpha/"+t);case 5:if(r=e.sent,console.log(r),!r.ok){e.next=11;break}return e.next=10,r.json();case 10:n=e.sent;case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0),this.setState({error:!0});case 17:return console.log("currentCountryInfo"),console.log(n),n||this.setState({error:!0}),e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCountry();case 2:t=e.sent,this.setState({country:t}),console.log(this.state),this.setState({isLoading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return 1==this.state.error?Object(f.jsx)("div",{className:"CardContent",children:"Whoopee dee doo"}):this.state.isLoading||!this.state.country?Object(f.jsx)("div",{className:"CardContent",children:"Loading"}):this.state.country?Object(f.jsxs)("div",{className:"CardContent",children:[Object(f.jsx)("div",{id:"closeContainer",children:Object(f.jsx)("span",{id:"closeBtn",onClick:function(){e.props.closeCard()},children:"X"})}),Object(f.jsxs)("div",{className:"row1",children:[Object(f.jsx)("div",{className:"FlagContent",children:Object(f.jsx)(w,{flag:this.state.country.flag})}),Object(f.jsxs)("div",{className:"infobox",children:[Object(f.jsx)("div",{className:"IpContent",children:Object(f.jsx)(x,{ip:this.props.locationData.ip})}),Object(f.jsx)("div",{className:"TimeZone",children:Object(f.jsx)(C,{})}),Object(f.jsx)("div",{className:"BasicInfo",children:Object(f.jsx)(v,{languages:this.state.country.languages,capitalCity:this.state.country.capital,callingCode:this.state.country.callingCodes})})]})]}),Object(f.jsx)("div",{className:"row2",children:Object(f.jsx)(m,{info:this.state.country})})]}):void 0}}]),n}(c.a.Component);function N(e){var t=e.locationData.location,n=[t.lat,t.lng],c=Object(r.useState)(!0),s=Object(u.a)(c,2),a=s[0],o=s[1],i=function(){o((function(e){return!e}))};return Object(f.jsxs)(j.a,{style:{height:"100vh",width:"100vw"},center:n,zoom:13,scrollWheelZoom:!1,children:[Object(f.jsx)(d.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(f.jsx)(h.a,{position:n,eventHandlers:{click:function(){i()}}}),a&&Object(f.jsx)(k,{locationData:e.locationData,closeCard:i})]})}var S=n(12),I=n(25);var L=function(){return Object(f.jsx)("div",{className:"loader",children:Object(f.jsx)(I.WaveLoader,Object(S.a)({},{loading:!0,size:275,duration:.5,color:"#0f3c78"}))})};var B=function(e){return Object(f.jsx)("div",{id:"error",children:Object(f.jsx)("p",{children:"Oops, something went wrong! Try again later!"})})};var D=function(){var e,t=Object(r.useState)({}),n=Object(u.a)(t,2),c=n[0],s=n[1],a=Object(r.useState)(!1),o=Object(u.a)(a,2),j=o[0],d=o[1],h=Object(r.useState)(!0),b=Object(u.a)(h,2),p=b[0],O=b[1],g=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://geo.ipify.org/api/v1?apiKey=","at_VF7kJXfX3dBVqla8cpVBLGmfQO3cg",t={error:"unknown"},e.prev=3,e.next=6,fetch("https://geo.ipify.org/api/v1?apiKey=at_VF7kJXfX3dBVqla8cpVBLGmfQO3cg");case 6:if(!(n=e.sent).ok){e.next=14;break}return d(!1),e.next=11,n.json();case 11:t=e.sent,e.next=16;break;case 14:return d(!0),e.abrupt("return",t);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),d(!0),t.error=e.t0.message;case 22:return e.abrupt("return",t);case 23:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,g();case 3:e.t1=e.sent,(0,e.t0)(e.t1),console.log(c),O(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),e=j?Object(f.jsx)(B,{}):p?Object(f.jsx)(L,{}):Object(f.jsx)(N,{locationData:c}),Object(f.jsxs)("div",{className:"App",children:[e,Object(f.jsx)("div",{})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,97)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),s(e),a(e)}))};a.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(D,{})}),document.getElementById("root")),F()}},[[91,1,2]]]);
//# sourceMappingURL=main.f61e0e5b.chunk.js.map